<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Cherish">

    <title>登陸頁面</title>

    <link href="/css/style.css" rel="stylesheet"/>
    <link href="/css/style-responsive.css" rel="stylesheet"/>

    <!--[if lt IE 9]>
    <script src="/js/html5shiv.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->
</head>

<body class="login-body">

<div class="container">

    <form class="form-signin" action="/login" th:action="@{/login}" method="POST">
        <div class="form-signin-heading text-center">
            <h1 class="sign-title">登陆界面</h1>
            <img th:src="@{/images/myself.jpg}" alt="爱意浓浓" style="max-height: 200px;"/>
        </div>
        <div class="login-wrap">
            <input type="text" name="username" class="form-control" placeholder="登录名" autofocus
                   required minlength="6" maxlength="16" th:value="${loginReq} ? ${loginReq.username}">
            <label class="error-label" th:text="${errorMap} ? ${errorMap['username']}"></label>

            <input type="password" name="password" class="form-control" placeholder="密码"
                   required minlength="6" maxlength="16" th:value="${loginReq} ? ${loginReq.password}">
            <label class="error-label" th:text="${errorMap} ? ${errorMap['password']}"></label>

            <div class="row">
                <div class="col-xs-7">
                    <input type="text" name="validateCode" class="form-control" placeholder="验证码"
                           required minlength="4" maxlength="4">
                </div>
                <div class="col-xs-5">
                    <img src="/validateCode?_admin" onclick="changeCode(this)">
                </div>
                <label class="error-label" th:text="${errorMap} ? ${errorMap['validateCodeError']}"></label>
            </div>

            <button class="btn btn-lg btn-login btn-block" type="submit">
                <i class="fa fa-check"></i>
            </button>
        </div>

    </form>

</div>

<script src="/js/jquery-1.12.4.js" type="text/javascript"></script>
<script src="/tools/bootstrap-3.3.7/js/bootstrap.js" type="text/javascript"></script>
<script src="/js/modernizr.js"></script>

<script type="text/javascript">
    function changeCode(img){
        $(img).attr("src","/validateCode?_" + new Date().getTime());
    }
</script>

</body>
</html>